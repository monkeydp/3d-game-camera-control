# 3D游戏相机控制增强工具

这是一个为3D游戏开发的相机控制增强工具集，使用 AutoHotkey v2 编写。它提供了多个功能模块来增强游戏中的相机操控体验，适用于各类3D游戏，特别是战略、模拟、建造类游戏（如十字军之王3、Cities: Skylines、模拟人生等）。

## 功能特性

### 1. 数字小键盘相机移动 (AHIRemapper)
- 使用数字小键盘进行八方向相机移动
- 1/3/7/9：对角线移动
- 2/4/6/8：上下左右移动

### 2. 平滑缩放 (Zoom)
- `小键盘 *`：平滑放大
- `小键盘 /`：平滑缩小
- `Ctrl + 小键盘 *`：匀速放大
- `Ctrl + 小键盘 /`：匀速缩小

### 3. 位置记录与跳转 (MousePos)
- `0-9`：跳转到已记录的位置
- `Ctrl + 0-9`：记录当前鼠标位置
- 位置数据保存在 `pos.txt` 文件中

### 4. 平滑视角回正 (SmoothPan)
- `小键盘 5`：平滑地将视角移动到屏幕中心
- 带有过冲和回弹效果，移动更自然流畅

### 5. 自动环绕 (AutoOrbit)
- `小键盘 +`：开启/关闭自动环绕
- 右键点击：停止环绕
- `Ctrl + 小键盘 +`：重新加载脚本

## 适用场景

本工具特别适合以下类型的3D游戏：
1. 战略游戏（如十字军之王、文明系列等）
2. 城市建造类游戏（如城市天际线、Anno系列等）
3. 模拟经营类游戏（如模拟人生、过山车大亨等）
4. 其他需要频繁控制视角的3D游戏

## 安装要求

1. AutoHotkey v2.0 或更高版本
2. AutoHotInterception 库 (需要同时按多个键，没这个需求不用)
3. 支持的操作系统：Windows 10/11
4. 兼容大多数使用标准相机控制的3D游戏

## 安装步骤

1. 安装 [AutoHotkey v2](https://www.autohotkey.com/)
2. 安装 [AutoHotInterception](https://github.com/evilC/AutoHotInterception) 库
3. 下载本项目所有文件到同一目录
4. 运行 \`main.ahk\` 启动所有功能

## 配置说明

### 主配置 (main.ahk)
- \`wintitle\`：目标窗口标题（示例："ahk_exe ck3.exe"）
  - 修改此项以适配不同的游戏窗口
  - 可以使用窗口类名或进程名
  - 例如："ahk_exe CitiesSkylines.exe"，"ahk_exe Sims4.exe" 等
- 各个模块的初始化参数可在此文件中调整，以适应不同游戏的需求

### 自动环绕配置 (AutoOrbit.ahk)
- \`step_x\`：水平移动步长
- \`step_y\`：垂直移动步长
- \`step_delay\`：移动间隔时间
- \`duration\`：环绕持续时间
- \`edge_margin\`：屏幕边缘安全距离

### 平滑回正配置 (SmoothPan.ahk)
- \`speed\`：移动速度
- \`baseOvershootDuration\`：过冲阶段持续时间
- \`baseSettleDuration\`：回弹阶段持续时间
- \`overshootFactor\`：过冲幅度

### 缩放配置 (Zoom.ahk)
- \`uniformDuration\`：匀速缩放持续时间
- \`smoothDuration\`：平滑缩放持续时间
- \`minSmoothInterval\`/\`maxSmoothInterval\`：平滑缩放的速度范围

## 使用技巧

1. 位置记录：
   - 使用数字键 0-9 快速在重要位置之间切换
   - 用 Ctrl+数字键保存新的位置

2. 视角控制：
   - 小键盘进行精确移动
   - 使用小键盘5快速回到中心位置
   - 配合自动环绕功能查看建筑或军队

3. 缩放控制：
   - 短按实现精确缩放
   - 长按实现连续缩放
   - 需要精确缩放时使用 Ctrl 组合键

## 常见问题

1. 小键盘没有响应：
   - 确认 NumLock 灯是否亮起
   - 检查 AutoHotInterception 是否正确安装
   - 验证键盘 ID 是否正确设置

2. 位置记录不保存：
   - 检查是否有 pos.txt 的写入权限
   - 确认文件路径是否正确

3. 自动环绕不工作：
   - 确认游戏窗口是否处于活动状态
   - 检查是否有其他脚本干扰鼠标移动

## 注意事项

- 脚本需要管理员权限才能正常工作
- 建议在游戏启动后再运行脚本
- 如果功能失效，可以使用 Ctrl + 小键盘 + 重新加载脚本
- 注意调整配置时备份原始设置

## 游戏适配

不同游戏可能需要不同的配置才能获得最佳体验：

1. 相机移动速度
   - 根据游戏的原始相机移动速度调整
   - 可以在 main.ahk 中修改各项速度参数

2. 环绕视角
   - 某些游戏可能不支持鼠标右键拖动视角
   - 可以修改 AutoOrbit.ahk 中的按键设置

3. 缩放灵敏度
   - 不同游戏的缩放响应可能不同
   - 在 Zoom.ahk 中调整相关参数

4. 按键映射
   - 如果与游戏默认快捷键冲突，可以修改按键绑定
   - 在 main.ahk 中更改热键设置

## 更新日志

### 2025.9.19
- 整合所有功能模块
- 改进平滑移动算法
- 优化自动环绕功能
- 添加详细使用文档

## 许可证

MIT License